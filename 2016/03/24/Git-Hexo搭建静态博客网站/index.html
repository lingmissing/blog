<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  
  <title>
    Git+Hexo搭建静态博客网站 | 时光的涂鸦墙 | code is poetry
  </title>

  
  <meta name="author" content="elaine">
  

  
  <meta name="description" content="JavaScript Developer">
  

  
  
  <meta name="keywords" content="Git ,hexo">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  
  <meta property="og:title" content="Git+Hexo搭建静态博客网站" />
  

  <meta property="og:site_name" content="时光的涂鸦墙" />

  
  <meta property="og:image" content="/blog/favicon.ico" />
  

  <link href="/blog/logo.jpg" rel="icon">
  <link rel="alternate" href="/blog/atom.xml"
    title="时光的涂鸦墙" type="application/atom+xml">
  <link rel="stylesheet" href="/blog/css/style.css" media="screen" type="text/css">
</head>

<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/blog/">时光的涂鸦墙</a>
    </h1>
    <p class="site-description">code is poetry</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/blog/">主页</a></li>
      
        <li><a href="/blog/archives">归档</a></li>
      
        <li><a href="/blog/tags">标签</a></li>
      
        <li><a href="/blog/about">关于</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
  
  <h3 class="article-title"><span>
      Git+Hexo搭建静态博客网站</span></h3>
  
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/blog/2016/03/24/Git-Hexo搭建静态博客网站/" rel="bookmark">
        <time class="entry-date published" datetime="2016-03-24T06:28:09.000Z">
          2016-03-24
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
      <h1 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h1><h3 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h3><p>下载地址：<a href="https://git-scm.com/download/" target="_blank" rel="noopener">https://git-scm.com/download/</a></p>
<h3 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h3><p>下载地址： <a href="http://nodejs.org/download/" target="_blank" rel="noopener">http://nodejs.org/download/</a></p>
<h1 id="配置Github"><a href="#配置Github" class="headerlink" title="配置Github"></a>配置Github</h1><h3 id="建立github仓库"><a href="#建立github仓库" class="headerlink" title="建立github仓库"></a>建立github仓库</h3><p>仓库命名规范：</p>
<ul>
<li>【your_user_name.github.com】</li>
</ul>
<p>访问域名：your_user_name.github.io</p>
<ul>
<li>【your_user_name】</li>
</ul>
<p>访问域名：username.github.com/your_user_name</p>
<ul>
<li><p>注意：github账户必须已经邮箱验证过（github—setting—email）</p>
</li>
<li><p>注意：此处假设仓库名为hexo.github.com，此仓库存在两个分支，master作为自动发布的分支，gh-pages作为本地修改并发布的分支，首先将两个分支内容清空</p>
</li>
</ul>
<a id="more"></a>
<h3 id="设置全局"><a href="#设置全局" class="headerlink" title="设置全局"></a>设置全局</h3><pre><code>$ git config --global user.name &quot;name&quot; 配置username
$ git config --global user.email &quot;邮箱&quot; 配置邮箱
</code></pre><h3 id="设置ssh"><a href="#设置ssh" class="headerlink" title="设置ssh"></a>设置ssh</h3><p>设置rsa的数字指纹，一个是公钥，一个是私钥。公钥要提交到github上，私钥需要自己保存</p>
<pre><code>ssh-keygen -t rsa -C &quot;邮箱&quot;
</code></pre><p>如何提交到github？</p>
<p>找到github—setting—SSH keys，添加本地rsa公钥（C:\Users\Administrator.ssh\id_rsa.pub）</p>
<h3 id="验证ssh-key"><a href="#验证ssh-key" class="headerlink" title="验证ssh key"></a>验证ssh key</h3><p>用本地的私钥和github的公钥进行匹配</p>
<pre><code>ssh -T git@github.com
</code></pre><h3 id="生成github页面"><a href="#生成github页面" class="headerlink" title="生成github页面"></a>生成github页面</h3><p>找到仓库的setting，到GitHub Pages，点击 Launch automatic page generator，点击continue to layout生成基本页面。</p>
<h1 id="hexo配置"><a href="#hexo配置" class="headerlink" title="hexo配置"></a>hexo配置</h1><h3 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h3><pre><code>npm install -g hexo
</code></pre><p>说明地址：<a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">https://hexo.io/zh-cn/</a></p>
<h3 id="初始化设置"><a href="#初始化设置" class="headerlink" title="初始化设置"></a>初始化设置</h3><p>将hexo.github.io拉到本地</p>
<pre><code>$ git clone 地址
</code></pre><p>创建并切换到gh-pages分支</p>
<pre><code>$ git checkout -b gh-pages
</code></pre><p>删除该分支的所有数据并提交</p>
<pre><code>$ git add .
$ git commit -m &quot;删除数据&quot;
$ git push origin gh-pages
</code></pre><p>配置博客</p>
<pre><code>$ hexo init
</code></pre><p>当输出</p>
<pre><code>[info] Copying data
[info] You are almost done! Don’t forget to run npm install before &gt;you start blogging with Hexo!
</code></pre><p>需要安装 hexo-deployer-git（新版的博客默认不支持github上传方式）</p>
<pre><code>npm install hexo-deployer-git —save
</code></pre><p>安装node_modules，运行</p>
<pre><code>npm install
</code></pre><h3 id="开启hexo服务"><a href="#开启hexo服务" class="headerlink" title="开启hexo服务"></a>开启hexo服务</h3><pre><code>$ hexo server
[info] Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.
</code></pre><p>表明Hexo Server已经启动了，在浏览器中打开 localhost:4000/，这时可以看到Hexo已为你生成了一篇blog。你可以按Ctrl+C 停止Server。本地修改后可刷新访问。</p>
<h3 id="创建博文"><a href="#创建博文" class="headerlink" title="创建博文"></a>创建博文</h3><p>运行命令创建文章，生成My New Post.md文件，编辑此文件发布内容。</p>
<pre><code>$ hexo new &quot;My New Post&quot;
</code></pre><h3 id="生成静态的网站文件"><a href="#生成静态的网站文件" class="headerlink" title="生成静态的网站文件"></a>生成静态的网站文件</h3><p>执行下面的命令，将markdown文件生成静态网页。</p>
<pre><code>$ hexo generate
</code></pre><p>该命令执行完后，会在 D:\Hexo\public\ 目录下生成一系列html，css等文件</p>
<h3 id="部署到Github"><a href="#部署到Github" class="headerlink" title="部署到Github"></a>部署到Github</h3><p>部署到Github前需要配置根目录下的_config.yml文件，首先找到下面的内容</p>
<pre><code># Deployment

## Docs: http://hexo.io/docs/deployment.html

deploy:
    type:
</code></pre><p>然后将它们修改为</p>
<pre><code># Deployment    

## Docs: http://hexo.io/docs/deployment.html

deploy:
    type: git
    repository: git@github.com:githubname/githubname.github.io.git
    branch: master
</code></pre><ul>
<li>注意:Repository：必须是SSH形式的url（<a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:zhchnchn/zhchnchn.github.io.git），而不能是HTTPS形式（//github.com/zhchnchn/zhchnchn.github.io.git），否则会出现错误。</li>
</ul>
<p>其他属性配置说明</p>
<pre><code># 站点基本信息
    title: 网站标题
    subtitle:  网站子标题（通常跟在作者下面）
    description: 网站描述（页面上看不到）
    author: 作者名称
    language: 语言（zh-CN）
    timezone:

# 链接
## 如果有自己的域名可做修改，否则不需要
    url: http://yoursite.com
    root: /
#permalink表示下一层的格式    
#permalink: :year/:month/:day/:title/
    permalink: :title/
    permalink_defaults:

# 目录描述
    source_dir: source
    public_dir: public
    tag_dir: tags
    archive_dir: archives
    category_dir: categories
    code_dir: downloads/code
    i18n_dir: :lang
    skip_render:

# Writing
    new_post_name: :title.md # File name of new posts
    default_layout: post
    titlecase: false # Transform title into titlecase
    external_link: true # Open external links in new tab
    filename_case: 0
    render_drafts: false
    post_asset_folder: false
    relative_link: false
    future: true
    highlight:
      enable: true
      line_number: true
      auto_detect: false
      tab_replace:

# 类型/标签
    default_category: uncategorized
    category_map:
    tag_map:

# 首页的日期格式
    date_format: YYYY/MM/DD
    time_format: HH:mm:ss

# 默认一页的文章数目
    per_page: 10
#是否分页    
    pagination_dir: page

#主题名称
    theme: yilia

# Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
  type: git
  repository: git@github.com:yourname/yourname.github.com.git
  branch: master
</code></pre><h3 id="测试部署到github的网站"><a href="#测试部署到github的网站" class="headerlink" title="测试部署到github的网站"></a>测试部署到github的网站</h3><p>当部署完成后，在浏览器中打开<a href="http://githubname.github.io" target="_blank" rel="noopener">http://githubname.github.io</a> ，正常显示网页，表明部署成功。</p>
<h3 id="后期部署步骤"><a href="#后期部署步骤" class="headerlink" title="后期部署步骤"></a>后期部署步骤</h3><p>每次部署的步骤，可按以下三步来进行。</p>
<pre><code>$ hexo clean
$ hexo generate
$ hexo deploy
</code></pre><h3 id="编辑文章"><a href="#编辑文章" class="headerlink" title="编辑文章"></a>编辑文章</h3><p>使用一个支持markdown语法的编辑器，推荐MarkdownPad</p>
<p>下载地址：<a href="http://share.weiyun.com/e8e47ea8d746ddebd4528138998c157f" target="_blank" rel="noopener">MarkdownPad下载地址</a></p>
<p>破解方式：<a href="http://jingyan.baidu.com/article/ca41422fe209271eaf99ed7c.html" target="_blank" rel="noopener">MarkdownPad破解方式</a></p>
<h1 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h1><h3 id="安装主题-1"><a href="#安装主题-1" class="headerlink" title="安装主题"></a>安装主题</h3><p>将Git Shell 切到themes目录下，然后执行下面的命令，将yilia下载到 themes/yilia 目录下。</p>
<pre><code>$ git clone https://github.com/litten/hexo-theme-yilia.git
</code></pre><p>修改博客根目录的config.yml配置文件中的theme属性，将其设置为yilia。</p>
<h3 id="配置主题"><a href="#配置主题" class="headerlink" title="配置主题"></a>配置主题</h3><ul>
<li>在yilia的config.yml中配置主题的属性</li>
</ul>
<p>主题配置说明</p>
<pre><code># 菜单导航目录
menu:
  主页: /
  所有文章: /archives

# 展示自己的相关其他网站
subnav:
  github: &quot;#&quot;
  weibo: &quot;#&quot;
  zhihu: &quot;#&quot;
  douban: &quot;#&quot;
  mail: &quot;#&quot;

# 内容
    excerpt_link: more
    fancybox: true
    mathjax: true

# 是否开启动画效果
    animate: true

# 是否在新窗口打开链接
    open_in_new: false

# 谷歌分析
    google_analytics: &apos;&apos;
# 网站顶部小图标
    favicon: /img/header.jpg

#你的头像url
    avatar: /img/header.jpg
#是否开启分享
    share_jia: false
    share_addthis: false
#是否开启多说评论，填写你在多说申请的项目名称 duoshuo: duoshuo-key
#若使用disqus，请在博客config文件中填写disqus_shortname，并关闭多说评论
    duoshuo: true
#是否开启云标签
    tagcloud: true

#是否开启友情链接
#不开启——
    friends: false
#开启——
    friends:
      web翎云阁: http://www.orzhtml.com/
       jQuery插件兜: http://www.orzhtml.com/demo/
       orz翎云阁: http://orzhtml.github.io

#是否开启“关于我”。
#不开启——
    aboutme: false
#开启——
    aboutme: 本想把日子过成诗，时而简单，时而精致。不料日子却过成了我的歌，时而不靠谱，时而不着调。  
</code></pre>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

      

      
      

      <span class="post-tags">
        <a href="/blog/tags/Git/">Git</a><a href="/blog/tags/hexo/">hexo</a>
      </span>
      

    </div>

    
  </div>
</article>


<section id="comment" class="comment">
	<div id="gitment"></div>
</section>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
	var gitment = new Gitment({
		owner: 'lingmissing',
		repo: 'lingmissing-gitment',
		oauth: {
			client_id: 'c7675a51f3f7416ac3c0',
			client_secret: 'cac3475af0adfc9d1669114ef89e8c6ff59ac758',
		},
	})
	gitment.render('gitment')
</script>



    </main>

    <footer class="site-footer">
  <p class="site-info">
    
    &copy;
    2019
    elaine
    
  </p>
</footer>
    
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-75095706-1', 'auto');
    ga('send', 'pageview');
</script>

  </div>
</div>
</body>
</html>